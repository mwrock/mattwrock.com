<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<post>
  <author>mwrock</author>
  <title>Save disk space and store your VHDs on an SD card</title>
  <description />
  <content>&lt;p&gt;&lt;img style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px 10px 0px 0px; padding-right: 0px; border-top-width: 0px" border="0" src="http://img2.targetimg2.com/wcsstore/TargetSAS//img/p/14/46/14460632_130423122352.jpg" /&gt;About a year ago, I puchased a &lt;a href="http://shop.lenovo.com/us/en/laptops/thinkpad/x-series/x1-carbon/"&gt;Lenovo X1 Carbon&lt;/a&gt; laptop as my primary personal dev machine. I absolutely love it! Almost inappropriately so…almost. The only thing I wish it had was more disk space. I settled for the 128GB SSD. The upgrade to 256GB was just too much of a price jump for me. I think 128GB is likely fine for most folks but I work a fair amount with VMs and those guys can be hogs. My disk would occasionally fill up and I’d find that the majority of space was taken up by my VM’s VHD files.&lt;/p&gt;  &lt;h2&gt;SD Card Readers are becoming commonplace in modern laptops&lt;/h2&gt;  &lt;p&gt;Well it so happens that there is a small hole in this laptop that can be filled with an SD card. I hadn’t used one of those in years when I used to have a camera that lacked a phone so it was something I had overlooked. These can accommodate a variety of capacities. The largest that I have seen is 256GB but at a cost of about $900.00. More commonly found and affordable cards range from about 16 to 64GB. So I figured if I could put my VHDs on one of those, I’d get a 50% boost in hard disk capacity. The placement of the drive is convenient too. Unlike a USB thumb drive. SD Cards don’t stick out but can go unnoticed fully nuzzled in the side of my laptop.&lt;/p&gt;  &lt;h2&gt;Initial performance was abysmal&lt;/h2&gt;  &lt;p&gt;I forked out 50 dollars for a &lt;a href="http://www.lexar.com/products/lexar-platinum-ii-sdxc-uhs-i-card?category=5286"&gt;Lexar 64GB SDXC Class 10 U1&lt;/a&gt; card. I was unsure how these cards would perform compared to my SSD. Its one thing to read the specs which typically include “MAX” MB/s speeds, but another to see how something will work under my particular workloads. Obviously if it was going to be slow, this would not be a workable option for me. It was really super slow. &lt;/p&gt;  &lt;p&gt;For many this will come as no surprise. My SD card is rated at 60MB/s for Reads and less (not sure what the write rate is) for writes. You can get cards that are much faster but in my interest of keeping costs down, the higher speed cards were not a viable option. My VMs took a long time to boot. I wrote it off and figured hopefully I’ll find another use for the lost 50 bucks.&lt;/p&gt;  &lt;h2&gt;Differencing disks on the SSD to the rescue&lt;/h2&gt;  &lt;p&gt;Then a couple weeks later I had an idea. I cant remember what made me think of it but I wondered if I created &lt;a href="http://technet.microsoft.com/en-us/library/cc720381(v=ws.10).aspx"&gt;differencing disks&lt;/a&gt; from my base VHDs and put those on my SSD and the parent VHDs on the SD card, what would performance be like. With this setup, the SD would only be accessed for reads (which it excels at over writes) and all writes would go to my SSD. I gave this a shot and the performance pretty much felt the same as it had been when running entirely on my SSD. I should have done a better job of collecting hard numbers but I didn’t so this is simply how it “felt”.&lt;/p&gt;  &lt;p&gt;As far as space goes, all 5 of my base VM VHDs consume about 60GB of my SD so I am certainly saving space. I used to often go into the red with just a few gigs or less remaining on my SSD. I always have plenty of space since switching t this configuration a couple months ago. My differencing disks consume much less space and almost consume nothing when I revert my VMs to their initial state which I do often.&lt;/p&gt;  &lt;h2&gt;Your mileage may vary&lt;/h2&gt;  &lt;p&gt;Of course everyone’s workload and I/O patterns will vary. What is working for me may very well perform horribly for you. If you have an empty SD reader and are finding yourself often crunched for disk space, it may be worth considering this configuration.&lt;/p&gt;</content>
  <ispublished>True</ispublished>
  <isdeleted>False</isdeleted>
  <iscommentsenabled>True</iscommentsenabled>
  <pubDate>2013-12-30 02:07:00</pubDate>
  <lastModified>2013-12-30 02:07:28</lastModified>
  <raters>0</raters>
  <rating>0</rating>
  <slug>Save-disk-space-and-store-your-VHDs-on-an-SD-card</slug>
  <tags />
  <comments />
  <categories />
  <notifications />
</post>